<!doctype HTML>
<html>
  <head>
    <title th:text="${title}" />
    <meta charset="utf-8" />
    <link rel="stylesheet" th:href="@{/css/fetched/bootstrap.min.css}" />
    <script th:src="@{/js/jquery.3.3.1.min.js}"></script>
    <script th:src="@{/js/fetched/bootstrap.min.js}"></script>
    <script th:src="@{/js/popper.min.js}"></script>
    <script th:src="@{/json-viewer/jquery.json-viewer.js}"></script>
    <link rel="stylesheet" th:href="@{/json-viewer/jquery.json-viewer.css}" />
  </head>
<body>
<nav class="navbar navbar-expand navbar-light bg-light flex-column flex-md-row bd-navbar">
  <a class="navbar-brand" href="/"><img th:src="@{/img/logo.svg}"></a>
</nav>
  <div class="container">
    <h1 th:text="${title}"/>
    <h3>Results:</h3>
    <pre id="json-renderer"></pre>
  </div>
<script th:inline="javascript">
      function renderJson() {
        try {
          var job = [(${job})];
        }
        catch (error) {
          return alert("Cannot eval JSON: " + error);
        }
        var options = {
          collapsed: true,
          rootCollapsable: false,
          withQuotes: false,
          withLinks: true
        };
        $('#json-renderer').jsonViewer(job, options);
      }
      $(document).ready(function(){
        renderJson();
      });
</script>
</body>
</html>
